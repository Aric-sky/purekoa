<!DOCTYPE html>
<html lang="zh-CN">
	<head>
		<meta charset="UTF-8">
		<title>backstate</title>
    <link rel="stylesheet" href="./css/font-awesome.css">
    <link rel="stylesheet" href="./css/backstate-home.css"/>
	</head>
	<body>

    <div class="inner-box">
      <h1>账号登陆</h1>
      <form id="form_register">
        <ul id="ul1" class="container">
          <li>
            <i class="fa fa-user"></i>
            <input type="text" placeholder="请输入用户名" id="uname" name="uname"/>
          </li>
          <li>
            <i class="fa fa-pencil"></i>
            <input type="password" placeholder="请输入密码" id="pwd" name="pwd"/>
          </li>
          <li>
            <div class="remenber container">
              <span>记住账号?</span>
              <span class="btnNormal">
                <i></i>
              </span>
            </div>
            <a href="#" id="sub">
              <b class="fa fa-smile-o"></b>
              登陆
            </a>
          </li>
        </ul>
      </form>
    </div>

  <script src="https://cdn.bootcss.com/jquery/1.12.4/jquery.min.js"></script>
  <script>
    var uname = document.getElementById('uname');
    var pwd = document.getElementById('pwd');
    $('.btnNormal').click(function(){
      $(this).toggleClass('btnOn');
      var btnu = $('.btnOn').size();
      if(btnu===1){
        localStorage['bkuname']=uname.value;
      }else if(btnu===0){
        localStorage.clear('bkuname');
      }
    });

    $(function(){
      if(localStorage['bkuname']){
        uname.value=localStorage['bkuname'];
      }
    });

  //数据提交，后台验证账户名
    $("#sub").click(function(e){
      e.preventDefault();
      var data = $('#form_register').serialize();
      var arr = data.split('&');
      if (getValue(arr[0]) == 'admin' && getValue(arr[1])== 'admin123') {
        localStorage['bkuname'] = "admin"
        setCookie('bkuname', 'admin', 7)
        location.href="/";
      } else {
        alert("密码错误！")
      }
    });

    function getValue (str) {
      return str.split("=")[1]
    }
    function setCookie (name, value, day) {
      var oDate = new Date()
      oDate.setDate(oDate.getDate() + day)
      document.cookie = name + '=' + value + ';expires=' + oDate;
    }
    // 星空链条 -- 开始
    !function(){function r(){l=d.width=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;m=d.height=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}function t(){f.clearRect(0,0,l,m);var b=[h].concat(q),c,d,g,e,n,p;q.forEach(function(a){a.x+=a.xa;a.y+=a.ya;a.xa*=a.x>l||0>a.x?-1:1;a.ya*=a.y>m||0>a.y?-1:1;f.fillRect(a.x-.5,a.y-.5,1,1);for(d=0;d<b.length;d++)c=b[d],a!==c&&null!==c.x&&null!==c.y&&(e=a.x-c.x,n=a.y-c.y,p=e*e+n*n,p<c.max&&
    (c===h&&p>=c.max/2&&(a.x-=.03*e,a.y-=.03*n),g=(c.max-p)/c.max,f.beginPath(),f.lineWidth=g/2,f.strokeStyle="rgba("+k.c+","+(g+.2)+")",f.moveTo(a.x,a.y),f.lineTo(c.x,c.y),f.stroke()));b.splice(b.indexOf(a),1)});u(t)}var d=document.createElement("canvas"),k=function(){var b=document.getElementsByTagName("script"),c=b.length,b=b[c-1];return{l:c,z:b.getAttribute("zIndex")||-20,o:b.getAttribute("opacity")||1,c:b.getAttribute("color")||"0,100,150",n:b.getAttribute("count")||130}}(),g="c_n"+k.l,f=d.getContext("2d"),
    l,m,u=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(b){window.setTimeout(b,1E3/45)},e=Math.random,h={x:null,y:null,max:2E4};d.id=g;d.style.cssText="position:fixed;top:0;left:0;z-index:"+k.z+";opacity:"+k.o;document.getElementsByTagName("body")[0].appendChild(d);r();window.onresize=r;window.onmousemove=function(b){b=b||window.event;h.x=b.clientX;h.y=b.clientY};window.onmouseout=
    function(){h.x=null;h.y=null};for(var q=[],g=0;k.n>g;g++){var v=e()*l,w=e()*m,x=2*e()-1,y=2*e()-1;q.push({x:v,y:w,xa:x,ya:y,max:6E3})}setTimeout(function(){t()},100)}();
    // 星空链条 -- 结束

  </script>
	</body>
</html>